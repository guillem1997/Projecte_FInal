<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recipes</title>
    <script>
            function search_table() {
                var input, filter, table, tr, td, i, txtValue;
                input = document.getElementById("candidate");
                filter = input.value.toUpperCase();
                table = document.getElementById("myTable");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }
            function addItem(){
                var ul = document.getElementById("dynamic-list");
                var candidate = document.getElementById("candidate");
                var li = document.createElement("li");
                li.setAttribute('id',candidate.value);
                li.appendChild(document.createTextNode(candidate.value));
                ul.appendChild(li);
            }

            function removeItem(){
                var ul = document.getElementById("dynamic-list");
                var candidate = document.getElementById("candidate");
                var item = document.getElementById(candidate.value);
                ul.removeChild(item);
            }


    </script>
</head>
<body>
    <div class='header'>
        <a href="{% url 'home' %}">         Home Page</a>
        <a href="{% url 'recipes' %}">      Recipes</a>
        <a href="{% url 'ingredients' %}">  Ingredients</a>
    </div>
    <br><br>Insert new Recipe:
    <form id="Recipe" action="/new_recipe" method="POST" >
        {% csrf_token %}
        Title:                   <input type="text" name="value_title"      size="40"><br>
        Preparation time:        <input type="text" name="value_time"       size="40"><br>
    </form>
    <label for="difficulty">Difficulty:</label>
        <select form="Recipe" name="value_difficulty" id="difficulty">
            <option value="easy">   Easy    </option>
            <option value="medium"> Medium  </option>
            <option value="hard">   Hard    </option>
            <option value="expert"> Expert  </option>
        </select><br>
    Instructions:<br>
    <textarea form="Recipe" name="value_description" cols="100" rows="20"></textarea><br><br>

    <ul id="dynamic-list"></ul>
    <input type="text" id="candidate" onkeyup="search_table()" placeholder="Search for ingredients..">

    <button onclick="addItem()">add item</button>
    <button onclick="removeItem()">remove item</button>

    <table id="myTable" style="width:100%">
        <tr class="header">
            {% for name in names %}
                <th>{{name.0}}</th>
            {% endfor %}
        </tr>
        {% for ingredient in ingredients %}
            <tr>
                {%for column in ingredient %}
                    <td>{{column}}</td>
                {% endfor %}
            </tr>
        {% endfor %}

    </table>

    <input form = "Recipe" type="submit">

</body>
</html>